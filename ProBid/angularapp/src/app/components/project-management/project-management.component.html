<app-clientnav></app-clientnav>
<div class="project-form-container" [ngClass]="{ blur: successPopup }">
    <button *ngIf="id" type="button" class="back-button" (click)="navigateBack()">Back</button>
    <h2>{{ id ? 'Edit Project' : 'Add New Project' }}</h2>
    <hr />
  
    <form [formGroup]="projectForm" (ngSubmit)="onSubmit()">
      <div>
        <label for="title">Project Title<span class="required">*</span></label>
        <input id="title" type="text" formControlName="title" />
        <div *ngIf="projectForm.controls['title'].touched && projectForm.controls['title'].hasError('required')" class="error">
          *Title is required
        </div>
      </div>
  
      <div>
        <label for="description">Description<span class="required">*</span></label>
        <textarea id="description" formControlName="description"></textarea>
        <div *ngIf="projectForm.controls['description'].touched && projectForm.controls['description'].hasError('required')" class="error">
          *Description is required
        </div>
      </div>
  
      <div>
        <label for="budget">Budget<span class="required">*</span></label>
        <input id="budget" type="number" formControlName="budget" />
        <div *ngIf="projectForm.controls['budget'].touched && projectForm.controls['budget'].hasError('required')" class="error">
          *Budget is required
        </div>
        <div *ngIf="projectForm.controls['budget'].hasError('min')" class="error">
          *Budget must be greater than 0
        </div>
      </div>
  
      <div>
        <label for="deadline">Deadline<span class="required">*</span></label>
        <input id="deadline" type="date" formControlName="deadline" />
        <div *ngIf="projectForm.controls['deadline'].touched && projectForm.controls['deadline'].hasError('required')" class="error">
          *Deadline is required
        </div>
      </div>
  
      <div>
        <label for="category">Category<span class="required">*</span></label>
        <select id="category" formControlName="category">
          <option value="" disabled selected>Choose Category</option>
          <option *ngFor="let category of categories" [value]="category">{{ category }}</option>
        </select>
        <div *ngIf="projectForm.controls['category'].touched && projectForm.controls['category'].hasError('required')" class="error">
          *Category is required
        </div>
      </div>
  
      <div>
        <label for="skillsRequired">Skills Required<span class="required">*</span></label>
        <input id="skillsRequired" type="text" formControlName="skillsRequired" />
        <div *ngIf="projectForm.controls['skillsRequired'].touched && projectForm.controls['skillsRequired'].hasError('required')" class="error">
          *Skills are required
        </div>
      </div>
  
      <div>
        <label for="attachments">Attachments</label>
        <input id="attachments" type="text" formControlName="attachments" placeholder="Enter file URLs" />
      </div>
  
      <div>
        <label for="priority">Priority<span class="required">*</span></label>
        <select id="priority" formControlName="priority">
          <option value="" disabled selected>Choose Priority</option>
          <option *ngFor="let priority of priorities" [value]="priority">{{ priority }}</option>
        </select>
        <div *ngIf="projectForm.controls['priority'].touched && projectForm.controls['priority'].hasError('required')" class="error">
          *Priority is required
        </div>
      </div>
  
      <div>
        <label for="paymentTerms">Payment Terms<span class="required">*</span></label>
        <select id="paymentTerms" formControlName="paymentTerms">
          <option value="" disabled selected>Choose Payment Terms</option>
          <option *ngFor="let term of paymentTerms" [value]="term">{{ term }}</option>
        </select>
        <div *ngIf="projectForm.controls['paymentTerms'].touched && projectForm.controls['paymentTerms'].hasError('required')" class="error">
          *Payment terms are required
        </div>
      </div>
  
      <div *ngIf="showError" class="error">
        All fields are required
      </div>
  
      <button type="submit" class="submit-button">{{ id ? 'Update Project' : 'Add Project' }}</button>
    </form>
  </div>
  
  <div *ngIf="successPopup" class="success-popup">
    <div class="success-popup-content">
      <p>{{ id ? 'Project Updated Successfully!' : 'Project Added Successfully!' }}</p>
      <button (click)="handleSuccessMessage()" class="ok-button">Ok</button>
    </div>
  </div>
  