<app-usernav></app-usernav>
<div class="feedback-table-container">
  <h1>My Feedback</h1>
  <hr />
  <table class="feedback-table" [ngClass]="{ blur: showDeletePopup || showDetailsModal }">
    <thead>
      <tr>
        <th>S.No</th>
        <th>Feedback</th>
        <th>Action</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let feedback of feedbacks; let i = index">
        <td>{{ i + 1 }}</td>
        <td>{{ feedback.feedbackText }}</td>
        <td>
          <button class="view-button" (click)="showSchemeDetails(feedback.wifiScheme)">View Scheme Info</button>
          <button class="delete-button" (click)="openDeletePopup(feedback.feedbackId)">Delete</button>
        </td>
      </tr>
    </tbody>
  </table>
</div>

<!-- Delete Confirmation Popup -->
<div *ngIf="showDeletePopup" class="delete-popup">
  <p>Are you sure you want to delete?</p>
  <button class="confirm-delete-button" (click)="handleConfirmDelete()">Yes, Delete</button>
  <button class="cancel-delete-button" (click)="closeDeletePopup()">Cancel</button>
</div>

<!-- Scheme Info Modal -->
<div *ngIf="showDetailsModal" class="details-modal-overlay">
  <div class="details-modal-content">
    <button class="close-button" (click)="closeDetailsModal()">&#x2715;</button> <!-- Unicode for X symbol -->
    <h2>Scheme Details</h2>
    <p><strong>Scheme Name:</strong> {{ selectedScheme?.schemeName }}</p>
    <p><strong>Region:</strong> {{ selectedScheme?.region }}</p>
    <p><strong>Speed:</strong> {{ selectedScheme?.speed }}</p>
    <p><strong>Data Limit:</strong> {{ selectedScheme?.dataLimit }}</p>
    <p><strong>Fee:</strong> â‚¹{{ selectedScheme?.fee }}</p>
    <p><strong>Description:</strong> {{ selectedScheme?.description }}</p>
    <p><strong>Availability Status:</strong> {{ selectedScheme?.availabilityStatus }}</p>
  </div>
</div>

