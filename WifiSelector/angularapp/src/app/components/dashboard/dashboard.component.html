<app-adminnav></app-adminnav>
<div class="dashboard-container">
  <h1>Admin Dashboard</h1>
  
  <!-- Dashboard Summary Cards -->
  <div class="card-grid">
    <!-- Total Schemes Card -->
    <div class="dashboard-card" (click)="toggleSchemeDetails('all')">
      <h2>Total WiFi Schemes</h2>
      <div class="circular-progress">
        <div class="inner-circle">{{ totalSchemes }}</div>
      </div>
    </div>

    <!-- Available Schemes Card -->
    <div class="dashboard-card" (click)="toggleSchemeDetails('available')">
      <h2>Available Schemes</h2>
      <div class="circular-progress">
        <div class="inner-circle">{{ availableSchemes }}</div>
        <div
          class="circle"
          [style.background]="
            'conic-gradient(#4caf50 ' +
            (availableSchemes / totalSchemes) * 100 +
            '%, #ddd ' +
            (availableSchemes / totalSchemes) * 100 +
            '%)'
          "
        ></div>
      </div>
    </div>

    <!-- Non-Available Schemes Card -->
    <div class="dashboard-card" (click)="toggleSchemeDetails('not-available')">
      <h2>Non-Available Schemes</h2>
      <div class="circular-progress">
        <div class="inner-circle">{{ nonAvailableSchemes }}</div>
        <div
          class="circle"
          [style.background]="
            'conic-gradient(#f44336 ' +
            (nonAvailableSchemes / totalSchemes) * 100 +
            '%, #ddd ' +
            (nonAvailableSchemes / totalSchemes) * 100 +
            '%)'
          "
        ></div>
      </div>
    </div>
  </div>

  <!-- Scheme Details Section -->
  <div class="scheme-details" *ngIf="selectedSchemes && selectedSchemes.length > 0">
    <h2>Scheme Details</h2>
    <div class="scheme-list">
      <div class="scheme-card" *ngFor="let scheme of selectedSchemes">
        <h3>{{ scheme.schemeName }}</h3>
        <p><strong>Region:</strong> {{ scheme.region }}</p>
        <p><strong>Speed:</strong> {{ scheme.speed }}</p>
        <p><strong>Data Limit:</strong> {{ scheme.dataLimit }}</p>
        <p><strong>Fee:</strong> â‚¹{{ scheme.fee }}</p>
        <p><strong>Status:</strong> {{ scheme.availabilityStatus }}</p>
      </div>
    </div>
  </div>

  <!-- Region-Wise Famous Schemes -->
  <div class="famous-schemes-section">
    <h2>Famous Schemes by Region</h2>
    <div class="region-cards">
      <div class="region-card" *ngFor="let region of Object.keys(famousSchemeByRegion)">
        <h3>{{ region }}</h3>
        <p><strong>Scheme:</strong> {{ famousSchemeByRegion[region].scheme?.schemeName }}</p>
        <p><strong>Total Requests:</strong> {{ famousSchemeByRegion[region].totalRequests }}</p>
      </div>
    </div>
  </div>
</div>
