<app-adminnav></app-adminnav>
<div class="training-form-container" [class.blur]="successPopup">
  <button type="button" id="backButton" (click)="navigateToDashboard()">Back</button>
  <h2>Edit Training</h2>
  <hr>
  <form #trainingForm="ngForm" (ngSubmit)="handleUpdateTraining(trainingForm)">
    <label for="trainingName">Training Name<span class="required">*</span></label>
    <input
      id="trainingName"
      type="text"
      name="trainingName"
      [(ngModel)]="formData.trainingName"
      placeholder="Training Name"
      required
      #trainingName="ngModel"
      (change)="handleChange($event, 'trainingName')"
    />
    <div class="error" *ngIf="trainingName.invalid && trainingName.touched">*Training Name is required</div>

    <label for="description">Description<span class="required">*</span></label>
    <input
      id="description"
      type="text"
      name="description"
      [(ngModel)]="formData.description"
      placeholder="Description"
      required
      #description="ngModel"
      (change)="handleChange($event, 'description')"
    />
    <div class="error" *ngIf="description.invalid && description.touched">*Description is required</div>

    <label for="trainerName">Trainer Name<span class="required">*</span></label>
    <input
      id="trainerName"
      type="text"
      name="trainerName"
      [(ngModel)]="formData.trainerName"
      placeholder="Trainer Name"
      required
      #trainerName="ngModel"
      (change)="handleChange($event, 'trainerName')"
    />
    <div class="error" *ngIf="trainerName.invalid && trainerName.touched">*Trainer Name is required</div>

    <label for="location">Location<span class="required">*</span></label>
    <input
      id="location"
      type="text"
      name="location"
      [(ngModel)]="formData.location"
      placeholder="Location"
      required
      #location="ngModel"
      (change)="handleChange($event, 'location')"
    />
    <div class="error" *ngIf="location.invalid && location.touched">*Location is required</div>

    <label for="isIndoor">Indoor/Outdoor<span class="required">*</span></label>
    <select
      id="isIndoor"
      name="isIndoor"
      [(ngModel)]="formData.isIndoor"
      required
      #isIndoor="ngModel"
      (change)="handleChange($event, 'isIndoor')"
    >
      <option [ngValue]="true">Indoor</option>
      <option [ngValue]="false">Outdoor</option>
    </select>
    <div class="error" *ngIf="isIndoor.invalid && isIndoor.touched">*Indoor/Outdoor information is required</div>
    
    <label for="fee">Fee<span class="required">*</span></label>
    <input
      id="fee"
      type="number"
      name="fee"
      [(ngModel)]="formData.fee"
      placeholder="Fee"
      required
      #fee="ngModel"
      (change)="handleChange($event, 'fee')"
    />
    <div class="error" *ngIf="fee.invalid && fee.touched">*Fee is required</div>

    <label for="focusArea">Focus Area<span class="required">*</span></label>
    <input
      id="focusArea"
      type="text"
      name="focusArea"
      [(ngModel)]="formData.focusArea"
      placeholder="Focus Area"
      required
      #focusArea="ngModel"
      (change)="handleChange($event, 'focusArea')"
    />
    <div class="error" *ngIf="focusArea.invalid && focusArea.touched">*Focus Area is required</div>

    <label for="physicalRequirements">Physical Requirements<span class="required">*</span></label>
    <input
      id="physicalRequirements"
      type="text"
      name="physicalRequirements"
      [(ngModel)]="formData.physicalRequirements"
      placeholder="Physical Requirements"
      required
      #physicalRequirements="ngModel"
      (change)="handleChange($event, 'physicalRequirements')"
    />
    <div class="error" *ngIf="physicalRequirements.invalid && physicalRequirements.touched">
      *Physical Requirements are required
    </div>

    <div *ngIf="errorMessage" class="error">*{{ errorMessage }}</div>

    <button type="submit">Update Training</button>
  </form>
</div>

<div class="success-popup" *ngIf="successPopup">
  <p>Training updated successfully!</p>
  <button type="button" (click)="handleOkClick()">OK</button>
</div>
